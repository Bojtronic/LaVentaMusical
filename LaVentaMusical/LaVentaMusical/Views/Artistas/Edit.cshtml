@model LaVentaMusical.Models.Artistas

<h2>Editar Artista</h2>
@using (Html.BeginForm("Edit", "Artistas", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <!-- Campo no editable para mostrar el Código de Artista -->
    <div class="form-group">
        @Html.LabelFor(m => m.Id_Artista, "Código de Artista")
        @Html.TextBoxFor(m => m.Id_Artista, new { @class = "form-control", @readonly = "readonly" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Nombre_Artistico, "Nombre Artístico")
        @Html.TextBoxFor(m => m.Nombre_Artistico, new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Fecha_Nacimiento, "Fecha de Nacimiento")
        @Html.TextBoxFor(m => m.Fecha_Nacimiento, "{0:yyyy-MM-dd}", new { type = "date", @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Nombre_Real, "Nombre Real")
        @Html.TextBoxFor(m => m.Nombre_Real, new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Nacionalidad, "Nacionalidad")
        @Html.TextBoxFor(m => m.Nacionalidad, new { @class = "form-control" })
    </div>

    <!-- Mostrar imagen actual del artista si existe -->
    <div class="form-group">
        <label>Imagen Actual</label>
        <div>
            @if (Model.Imagen_Artista != null)
            {
                <img src="@Url.Action("ObtenerImagen", "Artistas", new { id = Model.Id_Artista })" alt="Imagen del Artista" class="img-thumbnail" style="max-width: 200px;" />
            }
            else
            {
                <p>No hay imagen disponible</p>
            }
        </div>
    </div>

    <!-- Campo para subir una nueva imagen -->
    <div class="form-group">
        @Html.Label("Nueva Foto del Artista (Dejar vacío para no actualizar)")
        <input type="file" name="imagen" class="form-control" />
    </div>

    <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    @Html.ActionLink("Cancelar", "Index", null, new { @class = "btn btn-secondary" })
}
